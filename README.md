# Todo List

## í”„ë¡œì íŠ¸ ì†Œê°œ

- ë¡œê·¸ì¸ ë° íšŒì›ê°€ì… ê¸°ëŠ¥ì„ í¬í•¨í•˜ì—¬ ì‚¬ìš©ìê°€ ê°œì¸ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ì‚¬ì´íŠ¸

## ë°ëª¨ ì˜ìƒ

[ë°°í¬ ë§í¬(í˜„ì¬ ì›í‹°ë“œì—ì„œ ì œê³µí•˜ëŠ” ì„œë²„ê°€ ì¤‘ë‹¨ë˜ì–´ api ìš”ì²­ ë¶ˆê°€)](https://wanted-pre-onboarding-frontend-bice.vercel.app/)

## ê°œë°œ í™˜ê²½

### Developement

<img src="https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=React&logoColor=white"/> <img src="https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=TypeScript&logoColor=white"/>
<img src="https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge&logo=Axios&logoColor=white"/>

### Styling

<img src="https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white"/>

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
ğŸ“¦src
 â”£ ğŸ“‚apis
 â”ƒ â”— ğŸ“œapi.ts
 â”£ ğŸ“‚components
 â”ƒ â”£ ğŸ“œErrorBoundary.tsx
 â”ƒ â”£ ğŸ“œHeader.tsx
 â”ƒ â”£ ğŸ“œLayout.tsx
 â”ƒ â”— ğŸ“œToDoItem.tsx
 â”£ ğŸ“‚constants
 â”ƒ â”— ğŸ“œconstants.ts
 â”£ ğŸ“‚hooks
 â”ƒ â”£ ğŸ“‚auth
 â”ƒ â”ƒ â”£ ğŸ“œuseAuth.ts
 â”ƒ â”ƒ â”£ ğŸ“œuseSignIn.ts
 â”ƒ â”ƒ â”— ğŸ“œuseSignUp.ts
 â”ƒ â”£ ğŸ“‚todo
 â”ƒ â”ƒ â”£ ğŸ“œuseCheckbox.ts
 â”ƒ â”ƒ â”£ ğŸ“œuseCreateToDo.ts
 â”ƒ â”ƒ â”£ ğŸ“œuseDeleteToDo.ts
 â”ƒ â”ƒ â”£ ğŸ“œuseGetToDo.ts
 â”ƒ â”ƒ â”— ğŸ“œuseUpdateToDo.ts
 â”ƒ â”£ ğŸ“œindex.ts
 â”ƒ â”£ ğŸ“œuseAxios.ts
 â”ƒ â”— ğŸ“œuseInput.ts
 â”£ ğŸ“‚pages
 â”ƒ â”£ ğŸ“‚error
 â”ƒ â”ƒ â”— ğŸ“œErrorBoundary.tsx
 â”ƒ â”£ ğŸ“‚home
 â”ƒ â”ƒ â”— ğŸ“œHome.tsx
 â”ƒ â”£ ğŸ“‚sign-in
 â”ƒ â”ƒ â”— ğŸ“œSignIn.tsx
 â”ƒ â”£ ğŸ“‚sign-up
 â”ƒ â”ƒ â”— ğŸ“œSignUp.tsx
 â”ƒ â”£ ğŸ“‚todo
 â”ƒ â”ƒ â”— ğŸ“œToDo.tsx
 â”ƒ â”— ğŸ“œindex.ts
 â”£ ğŸ“‚router
 â”ƒ â”— ğŸ“œRouter.tsx
 â”£ ğŸ“‚types
 â”ƒ â”£ ğŸ“œauth.ts
 â”ƒ â”— ğŸ“œtodo.ts
 â”£ ğŸ“œApp.tsx
 â”£ ğŸ“œindex.css
 â”— ğŸ“œindex.tsx
```

## Assignmentë³„ êµ¬í˜„ ë°©ì‹

### Assignment 1. ìœ íš¨ì„± ê²€ì‚¬

- ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ëŠ” ì •ê·œí‘œí˜„ì‹ì„ ì‚¬ìš©í•´ ìœ íš¨ì„± ê²€ì¦í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.
- ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì œì–´í•˜ëŠ” ì»¤ìŠ¤í…€ í›… useInput() ì„ í†µí•´ ìœ íš¨ì„± ê²€ì¦ ì˜¤ë¥˜ ì‹œ isError ë¥¼ ë°˜í™˜í•˜ê³  ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ì— ì—ëŸ¬ê°€ ëª¨ë‘ ì•„ë‹Œê²½ìš°ì—ë§Œ ë²„íŠ¼ì˜ disabled ì†ì„± í•´ì œë˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

```ts
//useInput(ì„ ì–¸ë¶€)
interface UseInputProps<V> {
  regex: RegExp;
  initialValue: V;
}

export const useInput = <V>({ regex, initialValue }: UseInputProps<V>) => {
  const [value, setValue] = useState(initialValue);
  const [isError, setIsError] = useState(false);
  useEffect(() => {
    if (typeof value === "string") setIsError(!regex.test(value));
  }, [value, regex]);

  return { value, setValue, isError };
};

export default useInput;

//SignIn í˜ì´ì§€(í˜¸ì¶œë¶€)
const {
  value: email,
  setValue: setEmail,
  isError: isEmailError,
} = useInput({
  regex: /@/,
  initialValue: "",
});
const {
  value: password,
  setValue: setPassword,
  isError: isPasswordError,
} = useInput({
  regex: /^.{8,}$/,
  initialValue: "",
});
const isFormValid = !isEmailError && !isPasswordError;
```

### Assignment 2 & 3. í˜ì´ì§€ ì´ë™/ jwt ê´€ë¦¬

- ì»¤ìŠ¤í…€ í›… useAxiosë¥¼ í†µí•´ request í•¨ìˆ˜ì™€ response , error ë¥¼ ë°˜í™˜í•˜ê²Œ í•˜ê³ , useAxiosí›…ì„ ê°€ê³µí•œ useSignUp, useSignIn ì»¤ìŠ¤í…€í›…ì„ í†µí•´ ìš”ì²­í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.
- useNavigate() ë¥¼ ì´ìš©í•´ response.statusì— ë”°ë¼ í˜ì´ì§€ ì´ë™ ì²˜ë¦¬í•˜ê³ , ì—ëŸ¬ì‹œ ì—ëŸ¬ ì‘ë‹µ ë©”ì‹œì§€ë¥¼ alert()í–ˆìŠµë‹ˆë‹¤.
- ìš”êµ¬ì‚¬í•­ì— ë”°ë¼, ë¡œê·¸ì¸ ì„±ê³µì‹œ localStorageì— accessTokenë¥¼ ì €ì¥í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.
- axios ì¸í„°ì…‰í„°ì—ì„œ, ë§Œì•½ í† í°ì´ ìˆì„ ì‹œ headerì— authorization í† í°ì„ ì„¤ì •í•´ ë³´ë‚´ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

```ts
//useAxios

type MethodType = "get" | "post" | "put" | "delete";

interface UseAxiosState<R> {
  loading: boolean;
  error?: any;
  response?: AxiosResponse<R>;
}

type UseAxiosResult<T, R> = [
  (method: MethodType, url: string, data?: T) => void,
  UseAxiosState<R>
];

const useAxios = <T, R>(): UseAxiosResult<T, R> => {
  const [state, setState] = useState<UseAxiosState<R>>({
    loading: false,
    error: undefined,
    response: undefined,
  });

  const request = async (method: MethodType, url: string, data?: T) => {
    setState((prev) => ({ ...prev, loading: true }));

    try {
      const response: AxiosResponse<R> = await instance.request({
        method: method,
        url: url,
        data: data,
      });

      setState({
        loading: false,
        response,
        error: null,
      });
    } catch (error: AxiosError | any) {
      setState((prev) => ({
        ...prev,
        loading: false,
        error: error.response?.data?.message,
      }));
    }
  };

  return [request, { ...state }];
};

export default useAxios;
```

### Assignment 4. ë¦¬ë‹¤ì´ë ‰íŠ¸

- Header ì»´í¬ë„ŒíŠ¸ì— useAuth ì»¤ìŠ¤í…€ í›…ì„ ì‚¬ìš©í•´ ì¸ì¦í† ë¡ í–ˆìŠµë‹ˆë‹¤.
- useLocation ê³¼ useNavigate ë¥¼ í†µí•´, í˜„ì¬ accessTokenì´ ìˆê³  í˜„ì¬ locationì´ â€œ/â€, â€œ/signupâ€, â€œ/signinâ€ì´ë©´ â€œ/todoâ€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸, accessTokenì´ ì—†ê³  locationì´ â€œ/todoâ€ë¼ë©´ â€œ/signinâ€ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í–ˆìŠµë‹ˆë‹¤.
- useAuth í›…ì„ ì‚¬ìš©ì‹œì— ì¸ì¦ í™•ì¸ í›„ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œ ê¹œë¹¡ì„ ë¬¸ì œê°€ ìˆì–´ <Navigate/> ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•´(HOC) ê¹œë¹¡ì„ì„ ì œê±°í•˜ëŠ” **ë¦¬íŒ©í† ë§**ì„ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.

```ts
//ìˆ˜ì • ì „ì˜ useAuth í›…
export const useAuth = () => {
  const location = useLocation();
  const navigate = useNavigate();
  const token = localStorage.getItem("access_token");

  useEffect(() => {
    if (token && ["/", "/signin", "/signup"].includes(location.pathname)) {
      navigate("/todo");
    } else if (!token && location.pathname === "/todo") {
      navigate("/signin");
    }
  }, [navigate, token, location]);
};

export default useAuth;

//ìˆ˜ì • í›„, Header ì»´í¬ë„ŒíŠ¸

const Header = () => {
  const location = useLocation();

  const token = localStorage.getItem("access_token");

  if (!token && location.pathname === "/todo") {
    return (
      <>
        <Navigate to="/signin" />
      </>
    );
  } else if (token && ["/", "/signin", "/signup"].includes(location.pathname)) {
    return (
      <>
        <Navigate to="/todo" />
      </>
    );
  } else {
    return <Outlet />;
  }
};

export default Header;
```

### Assignment 5. íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ ëª©ë¡ê³¼ ì²´í¬ë°•ìŠ¤

- useAxios ì»¤ìŠ¤í…€ í›…ì„ useGetToDoê³¼ í›…ì—ì„œ í˜¸ì¶œí•´ ì‚¬ìš©í•˜ê³ , useGetToDoê³¼ í›…ì—ì„œëŠ” handleGetToDo í›…ê³¼ todosì„ ë°˜í™˜í•©ë‹ˆë‹¤.
- useEffectì—ì„œëŠ” isCreated, isDeleted, isUpdated, isChecked ë¥¼ ì˜ì¡´ì„± ë°°ì—´ì— ë„£ì–´ ìƒíƒœê°€ ë³€í• ë•Œë§ˆë‹¤ handleGetToDo í›…ì´ í˜¸ì¶œë˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.(ì¦‰ ì²˜ìŒ ì ‘ì†ì‹œ ë°ì´í„°ì˜ ë³€ê²½ì´ ì—†ë‹¤ë©´ 1íšŒ í˜¸ì¶œ)
- TodoItem ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬, ToDo í˜ì´ì§€ì—ì„œ Propsë¥¼ í†µí•´ todoì˜ ìƒíƒœë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

### Assignment 6. íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ ì¶”ê°€

- Assignment 5ì—ì„œì˜ useGetToDoê³¼ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•˜ëŠ” useCreateToDoí›…ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
- ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ì¼ì¹˜ë¥¼ ìœ„í•´ post ìš”ì²­ í›„ ë°›ì€ todo ì‘ë‹µ ê°’ì„ ë¦¬ë Œë”ë§í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

### Assignment 7&10 íˆ¬ë‘ë¦¬ìŠ¤íŠ¸,ì²´í¬ë°•ìŠ¤ ìˆ˜ì •

- Assignment 5ì—ì„œì˜ useGetTodoê³¼ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•˜ëŠ” useCheckbox, useUpdateToDoí›…ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
- handleUpdateToDoì™€ handleCheckboxë¥¼ TodoItem ì»´í¬ë„ŒíŠ¸ì— Propsë¡œ ë„˜ê²¨ì£¼ì–´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìˆ˜ì •ìƒíƒœì™€ ì²´í¬ë°•ìŠ¤ ì²´í¬ìƒíƒœ í•¸ë“¤ë§í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

### Assignment 8 & Assignment 9 íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ ì‚­ì œ

- Assignment 5ì—ì„œì˜ useGetTodoê³¼ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•˜ëŠ” useDeleteToDoí›…ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

### ê¸°íƒ€ì‚¬í•­

- ìˆ˜ì • ë˜ëŠ” ì‚­ì œ ì‹œ, "ìˆ˜ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?" ë˜ëŠ” "ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"ì˜ confirm ë©”ì‹œì§€ë¥¼ ë„ì›Œ ìœ ì €ì˜ ì˜ì‚¬ë¥¼ ì¬í™•ì¸í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.
